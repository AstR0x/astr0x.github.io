(function(e){function t(t){for(var n,c,o=t[0],i=t[1],l=t[2],d=0,f=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&f.push(s[c][0]),s[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var i=r[o];0!==s[i]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},s={app:0},a=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),s=r.n(n);s.a},"0c61":function(e,t,r){"use strict";var n=r("faf6"),s=r.n(n);s.a},"39b3":function(e,t,r){"use strict";var n=r("7c43"),s=r.n(n);s.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Table")],1)},a=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",{staticClass:"table"},[r("TableHeader"),r("TableBody",{attrs:{currencies:e.currencies,"rows-classes":e.rowsClasses}})],1)},o=[],i=(r("7db0"),r("4160"),r("a15b"),r("d81d"),r("13d5"),r("fb6a"),r("b64b"),r("d3b7"),r("159b"),r("5530")),l=(r("96cf"),r("1da1")),u=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},d=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",{staticClass:"table-header"},[r("tr",{staticClass:"table-row"},[r("th",{staticClass:"header-cell"},[e._v("Name")]),r("th",{staticClass:"header-cell"},[e._v("Price")]),r("th",{staticClass:"header-cell hidden"},[e._v("Market Cap")]),r("th",{staticClass:"header-cell hidden"},[e._v("Volume (24h)")])])])}],f={name:"TableHeader"},p=f,b=(r("0c61"),r("2877")),h=Object(b["a"])(p,u,d,!1,null,"f9c0fc66",null),v=h.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tbody",{staticClass:"tbody scroll-delayed"},e._l(e.currencies,(function(t){return r("tr",{key:t.name,staticClass:"table-row",class:[e.rowsClasses[t.id]]},[r("td",{staticClass:"row-cell"},[e._v(e._s(t.name))]),r("td",{staticClass:"row-cell"},[e._v("$"+e._s(e.shortenNumber(t.priceUsd)))]),r("td",{staticClass:"row-cell hidden"},[e._v("$"+e._s(e.shortenNumber(t.marketCapUsd)))]),r("td",{staticClass:"row-cell hidden"},[e._v("$"+e._s(e.shortenNumber(t.volumeUsd24Hr)))])])})),0)},w=[],_=(r("b680"),1e6),y=1e9,C=3e3,O=1e3,j={methods:{shortenNumber:function(e){var t=parseFloat(e);return t>y?"".concat((t/y).toFixed(2),"b"):t>_?"".concat((t/_).toFixed(2),"m"):t<1?t.toFixed(8):t.toFixed(2)}}},x={name:"TableBody",props:{currencies:Array,rowsClasses:Object},mixins:[j]},g=x,T=(r("620d"),Object(b["a"])(g,m,w,!1,null,"ec8d0b9e",null)),k=T.exports,P={name:"Table",components:{TableHeader:v,TableBody:k},mixins:[j],data:function(){return{currencies:[],rowsClasses:{},interval:null}},methods:{updatePrices:function(e){var t=this.currencies,r=this.rowsClasses,n=this.shortenNumber;Object.keys(e).forEach((function(s){var a=t.find((function(e){return e.id===s})),c=n(a.priceUsd),o=n(e[s]);c!==o&&(r[s]=c<o?"green":"red",setTimeout((function(){r[s]=null}),O),a.priceUsd=e[s])}))}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n,s,a,c,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.coincap.io/v2/assets");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,s=n.data,e.currencies=s.sort((function(e,t){return t.marketCapUsd-e.marketCapUsd})).slice(0,30),a=e.currencies.reduce((function(e,t){return e[t.id]=null,e}),{}),e.rowsClasses=Object(i["a"])(Object(i["a"])({},e.rowsClasses),a),c=e.currencies.map((function(e){return e.id})).join(","),o=new WebSocket("wss://ws.coincap.io/prices?assets=".concat(c)),l={prices:{}},e.interval=setInterval((function(){e.updatePrices(l.prices),l.prices={}}),C),o.onmessage=function(e){var t=e.data;l.prices=Object(i["a"])(Object(i["a"])({},l.prices),JSON.parse(t))};case 15:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){clearInterval(this.interval)}},$=P,N=(r("39b3"),Object(b["a"])($,c,o,!1,null,"7389e1f2",null)),S=N.exports,U={name:"App",components:{Table:S}},E=U,F=(r("034f"),Object(b["a"])(E,s,a,!1,null,null,null)),M=F.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(M)}}).$mount("#app")},"620d":function(e,t,r){"use strict";var n=r("d160"),s=r.n(n);s.a},"7c43":function(e,t,r){},"85ec":function(e,t,r){},d160:function(e,t,r){},faf6:function(e,t,r){}});
//# sourceMappingURL=app.65960ba2.js.map